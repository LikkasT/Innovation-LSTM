# 前端功能交互设计

## 使用的框架及第三方库
框架:Vue2，使用vue官方脚手架构建
第三方库: 
- axios:处理前后端数据交互与同行
- Element:适用于Vue2的桌面端组件库
- vue-router:vue官方的路由管理工具,管理页面的跳转;
- pubsub-js:一个轻便的实现事件订阅/发布的三方库;
- echarts：流行的图表展示库

## 页面交互
### 一、主页IndexPage
分为用户未登录和已登录两种状态，并且在浏览器地址栏输入主页的路径会重定向至收益排行的界面，即访问主页默认显示的内容是收益排行界面7日收益的内容；

#### 0. 两种状态共享部分
- 搜索框：当输入关键词时，下拉框会返回匹配关键词的商品（显示的内容暂定是商品的名字）。若返回信息条目多于10条，则显示前10条（具体的显示规则再定）。
#### 1. 用户未登录
- 用户头像：显示软件自带的默认头像；点击用户头像会跳转至用户登录/注册界面；
- 用户信息简介栏：
    1. 用户名称和用户ID的位置会显示文字“未登录”，用户金额显示“￥\?\?\????”；
    2. 点击用户金额会弹出提示框“请先登录”,然后跳转至用户登录/注册界面；
- 左侧导航栏：有“收益排行”、“交易热榜”和“用户关注”三个选项卡。
    1. 点击“收益排行”和“交易热榜”选项卡分别跳转至其界面。
    2. 点击“用户关注”选项卡弹出提示框“请先登录”,然后跳转至用户登录/注册界面；
#### 2. 用户已登录
- 用户头像：显示用户的头像。点击用户头像会跳转至用户信息界面；
- 用户信息简介栏：用户名称、用户ID和用户金额位置会分别显示用户的名称、用户ID和用户目前已有的金额。点击用户金额会跳转至“交易历史”界面；
- 左侧导航栏：有“收益排行”、“交易热榜”和“用户关注”三个选项卡。
    1. 点击“收益排行”和“交易热榜”选项卡分别跳转至其界面。
    2. 点击“用户关注”选项卡会跳转至“用户关注”界面；
（是不是还要考虑加个退出登录功能？）
### 二、登录页userLogin
当未登录用户点击用户头像时会默认跳转至此界面。
当在未登录状态下退出登录界面时会自动清空信息栏内的所有内容的提示信息；
当在已登录状态下访问登录界面时，如浏览器路径访问等，会重定向至主页；

- 用户信息栏：
    1. 分为“手机号码”和“密码”两个信息栏，分别输入用户的手机号码和密码。
    2. 当输入的手机号码不符合格式（格式为中国大陆11位阿拉伯数字），会在输入栏下方提示“请输入正确的手机号码！”
- 登录按钮：点击登录按钮，前端会把信息栏的内容发送给后端。
   1. 如果信息栏还有内容未填写会在相应的信息栏下方显示提示信息；
   2. 如果登录信息没有通过后端校验，则会在密码栏下提示“手机号或密码错误！”
   3. 如果手机号是未注册的手机号，则会在手机号码栏下显示提示信息“该手机号还未注册！”
   4. 登录成功时会自动刷新页面并跳转至主页；
- 注册按钮：点击注册按钮会跳转至用户注册界面；
- 关闭按钮：点击页面右上角的“X”或者点击页面的遮罩层会关闭用户登录页面。

### 三、注册页userRegister
未登录用户经由登录界面跳转至用户注册界面。
当在未登录状态下退出注册界面时会自动清空信息栏内的所有内容和提示信息；
当在已登录状态下访问注册界面时，如浏览器路径访问等，会重定向至主页；

- 注册信息栏：
    1. 分为“用户名称”、“密码”、“确认密码”、“手机号码”、“SteamID”、“电子邮箱”六项内容，其中“用户名称”、“密码”、“确认密码”、“手机号码”是必填项，“SteamID”和“电子邮箱”是选填项。
    2. 除“steamID”外每一栏都有对应的校验规则，若是没有通过校验会在信息栏下方弹出对应的提示信息。
- 提交按钮：点击提交按钮，前端会把注册信息发送给后端；
    1. 如果信息栏必填项还有未填写的内容，则会在相应的信息栏下方弹出提示“XXX不能为空！”
    2. 如果信息栏内容未通过前端校验，会在对应信息栏下方弹出对应的提示；
    3. 如果用户已经注册（后端使用手机号码验证），则在“手机号码”一栏下方弹出提示“该手机号码已经注册！”，后端不会把注册信息添加至数据库。
    4. 如果用户注册成功，则自动刷新页面并跳转至主页；
- 重置按钮：清空信息栏所有内容和提示信息；
- 返回登录按钮：返回登录界面，并清空信息栏内所有内容和提示信息；
- 关闭按钮：点击页面右上角的“X”或者点击页面的遮罩层会关闭用户注册页面。

### 四、用户信息页userInfo
在用户已登录状态下点击用户头像跳转至此界面。
在用户未登录状态下访问此界面，会重定向至登录/注册界面；
当用户离开该界面时，会自动重置用户信息为修改前的状态；
- 用户信息栏：一共有“用户头像”、“用户ID”、“用户名称”、“手机号码”、“SteamID”、“电子邮箱”、“修改密码”和“确认密码”等信息栏。
    1. 用户ID不可修改；
    2. “用户头像”一栏会显示用户当前头像，其右边有个上传头像按钮。
    3. 点击上传头像按钮，可以上传头像。若上传的图片不符合校验规则，会在浏览器上方弹出对应的提示信息；若是通过了校验，则左侧会显示头像修改后的预览效果（此时后端还没有接收修改信息）。
    4. “用户名称”等信息栏都有对应的校验规则，若是信息栏内信息未通过校验，则在对应的信息栏下方弹出提示；
- 修改按钮：提交修改。
    1. 当点击修改按钮时，弹出提示框“确认要修改信息吗？”。点击“确认”，提交修改；点击“取消”、提示框右上角的“X”或遮罩层，关闭提示框，不提交修改信息，但用户信息不会重置为修改前的状态；
    1. 若是信息栏还有未通过校验的信息，则在对应的信息栏下方弹出提示；
    2. 若是用户提交的修改信息不符合后端校验规则（手机号码不能重复）
- 取消按钮：跳转至主页，并重置用户信息为修改前的状态；

### 五、收益排行earningHotlist

### 六、交易热榜tradingHotlist

### 七、用户关注userFollow

### 八、商品信息goodInfo

### 九、交易历史tradingHistory

## API参数

### 一、主页IndexPage
### 二、登录页userLogin
### 三、注册页userRegister
### 四、用户信息页userInfo
### 五、收益排行earningHotlist
### 六、交易热榜tradingHotlist
### 七、用户关注userFollow
### 八、商品信息goodInfo
### 九、交易历史tradingHistory

